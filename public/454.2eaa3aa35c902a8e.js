"use strict";(self.webpackChunktp_saladejuegos=self.webpackChunktp_saladejuegos||[]).push([[454],{4454:(J,d,c)=>{c.r(d),c.d(d,{ReaccionaModule:()=>N});var r=c(6814),u=c(51),i=c(4946),h=c(9213),v=c(5019),g=c(3519),s=c.n(g),f=c(1634);const m=function(e){return{active:e}};function p(e,o){if(1&e){const n=i.EpF();i.TgZ(0,"div",7)(1,"div",8),i.NdJ("click",function(){const l=i.CHM(n).index,T=i.oxw().index,y=i.oxw();return i.KtG(y.clicEnCelda(T,l))}),i.qZA()()}if(2&e){const n=o.index,t=i.oxw().index,a=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(1,m,a.cuadricula[t][n]))}}function C(e,o){if(1&e&&(i.TgZ(0,"div",5),i.YNc(1,p,2,3,"div",6),i.qZA()),2&e){const n=o.$implicit;i.xp6(1),i.Q6J("ngForOf",n)}}function x(e,o){if(1&e){const n=i.EpF();i.ynx(0),i.TgZ(1,"div",9)(2,"button",10),i.NdJ("click",function(){i.CHM(n);const a=i.oxw();return i.KtG(a.jugar())}),i._uU(3,"Jugar"),i.qZA()(),i.BQk()}}const R=[{path:"",component:(()=>{var e;class o{constructor(){this.estadisticasService=(0,i.f3M)(v.P),this.UserAuthService=(0,i.f3M)(h.H),this.cuadricula=[],this.nivel=1,this.celdaActiva={fila:-1,columna:-1},this.tiempoRestante=5,this.tiempoPorNivel=5,this.jugando=!1,this.partidaGanada=!1,this.estadistica={usuario:"",juego:"reacciona",resultadoPartida:!1,fecha:new Date}}ngOnInit(){this.inicializarCuadricula()}inicializarCuadricula(){for(let t=0;t<20;t++){this.cuadricula[t]=[];for(let a=0;a<10;a++)this.cuadricula[t][a]=!1}}jugar(){this.celdaActiva=this.elegirCeldaAleatoria(),this.cuadricula[this.celdaActiva.fila][this.celdaActiva.columna]=!0,this.iniciarCuentaRegresiva(),this.jugando=!0}reiniciarJuego(){this.UserAuthService.estadoLog().then(()=>{this.estadistica.resultadoPartida=this.partidaGanada,this.estadistica.usuario=this.UserAuthService.usuarioEmail,this.estadisticasService.alta(this.estadistica),this.detenerCuentaRegresiva(),this.celdaActiva={fila:-1,columna:-1},this.tiempoRestante=5,this.tiempoPorNivel=5,this.nivel=1,this.jugando=!1,this.partidaGanada=!1,this.inicializarCuadricula()}).catch(t=>{console.log(t)})}siguienteNivel(){this.detenerCuentaRegresiva(),s().fire({icon:"info",title:"Celda Correcta!",text:"Continua con el siguiente nivel sera mas dificil!",showDenyButton:!0,confirmButtonText:"Continuar",denyButtonText:"Empezar Otra Vez"}).then(t=>{t.isConfirmed?this.jugar():t.isDenied&&this.reiniciarJuego()}),this.celdaActiva={fila:-1,columna:-1},this.inicializarCuadricula(),this.nivel++,this.tiempoPorNivel--,this.tiempoRestante=this.tiempoPorNivel,this.tiempoPorNivel<1&&(this.partidaGanada=!0,s().fire("No hay m\xe1s Niveles","\xa1Has ganado!","success"),this.reiniciarJuego())}elegirCeldaAleatoria(){return{fila:Math.floor(20*Math.random()),columna:Math.floor(10*Math.random())}}clicEnCelda(t,a){if(this.jugando){const l={fila:t,columna:a};console.log(l),console.log(this.celdaActiva),l.fila===this.celdaActiva.fila&&l.columna===this.celdaActiva.columna?this.siguienteNivel():(s().fire({icon:"error",title:"Perdiste!",text:"No era la celda correcta!"}),this.reiniciarJuego())}else s().fire({icon:"error",title:"Error!",text:"Comienza la partida para jugar!"})}iniciarCuentaRegresiva(){this.intervalo=setInterval(()=>{this.tiempoRestante>0?this.tiempoRestante--:(this.reiniciarJuego(),s().fire({icon:"error",title:"Perdiste!",text:"No diste el click a tiempo!"}),clearInterval(this.intervalo))},800)}detenerCuentaRegresiva(){clearInterval(this.intervalo)}}return(e=o).\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-reacciona"]],decls:10,vars:4,consts:[[1,"container","border","border-5","rounded","shadow-lg"],[1,"text-center"],[1,"text-center","h3"],["class","row justify-content-between",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row","justify-content-between"],["class","col-1",4,"ngFor","ngForOf"],[1,"col-1"],[1,"celda",3,"ngClass","click"],[1,"d-grid","gap-2"],[1,"btn","btn-primary","btn-lg","btn-block","mt-3",3,"click"]],template:function(t,a){1&t&&(i._UZ(0,"app-navbar"),i.TgZ(1,"div",0)(2,"h1",1),i._uU(3,"Reacciona!"),i.qZA(),i.TgZ(4,"h3",2),i._uU(5),i.qZA(),i.TgZ(6,"h3",2),i._uU(7),i.qZA(),i.YNc(8,C,2,1,"div",3),i.YNc(9,x,4,0,"ng-container",4),i.qZA()),2&t&&(i.xp6(5),i.hij("Nivel: ",a.nivel,""),i.xp6(2),i.hij("Tiempo: ",a.tiempoRestante," segundos"),i.xp6(1),i.Q6J("ngForOf",a.cuadricula),i.xp6(1),i.Q6J("ngIf",!a.jugando))},dependencies:[r.mk,r.sg,r.O5,f.S],styles:[".celda[_ngcontent-%COMP%]{width:20px;height:20px;border:1px solid black;background-color:#ccc;cursor:pointer;margin:1px}.active[_ngcontent-%COMP%]{width:20px;height:20px;border:1px solid black;background-color:#4ba4e8;cursor:pointer;margin:1px}"]}),o})(),children:[]}];let A=(()=>{var e;class o{}return(e=o).\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[u.Bz.forChild(R),r.ez,u.Bz]}),o})();var j=c(95),M=c(8524);let N=(()=>{var e;class o{}return(e=o).\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[r.ez,A,j.u5,M.m]}),o})()}}]);